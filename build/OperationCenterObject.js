"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
const spinalCore = require("spinal-core-connectorjs");
const globalType = typeof window === "undefined" ? global : window;

class OperationCenterObject extends globalType.Model {
  constructor(_id, name = "OperationCenterObject") {
    super();
    let _name = typeof _id === "undefinded" ? "" : this.constructor.name + _id;
    if (FileSystem._sig_server) {
      this.add_attr({
        name: _name,
        id: this.guid()
      });
    }
  }

  guid() {
    return this.constructor.name + "-" + this.s4() + this.s4() + "-" + this.s4() + "-" + this.s4() + "-" + this.s4() + "-" + this.s4() + this.s4() + this.s4() + "-" + Date.now().toString(16);
  }

  s4() {
    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);
  }

  setName(_name) {
    this.name.set(_name);
  }
}

exports.default = OperationCenterObject;
spinalCore.register_models([OperationCenterObject]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9PcGVyYXRpb25DZW50ZXJPYmplY3QuanMiXSwibmFtZXMiOlsic3BpbmFsQ29yZSIsInJlcXVpcmUiLCJnbG9iYWxUeXBlIiwid2luZG93IiwiZ2xvYmFsIiwiT3BlcmF0aW9uQ2VudGVyT2JqZWN0IiwiTW9kZWwiLCJjb25zdHJ1Y3RvciIsIl9pZCIsIm5hbWUiLCJfbmFtZSIsIkZpbGVTeXN0ZW0iLCJfc2lnX3NlcnZlciIsImFkZF9hdHRyIiwiaWQiLCJndWlkIiwiczQiLCJEYXRlIiwibm93IiwidG9TdHJpbmciLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzdWJzdHJpbmciLCJzZXROYW1lIiwic2V0IiwicmVnaXN0ZXJfbW9kZWxzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE1BQU1BLGFBQWFDLFFBQVEseUJBQVIsQ0FBbkI7QUFDQSxNQUFNQyxhQUFhLE9BQU9DLE1BQVAsS0FBa0IsV0FBbEIsR0FBZ0NDLE1BQWhDLEdBQXlDRCxNQUE1RDs7QUFFZSxNQUFNRSxxQkFBTixTQUFvQ0gsV0FBV0ksS0FBL0MsQ0FBcUQ7QUFDbEVDLGNBQVlDLEdBQVosRUFBaUJDLE9BQU8sdUJBQXhCLEVBQWlEO0FBQy9DO0FBQ0EsUUFBSUMsUUFBUSxPQUFPRixHQUFQLEtBQWUsWUFBZixHQUE4QixFQUE5QixHQUFtQyxLQUFLRCxXQUFMLENBQWlCRSxJQUFqQixHQUM3Q0QsR0FERjtBQUVBLFFBQUlHLFdBQVdDLFdBQWYsRUFBNEI7QUFDMUIsV0FBS0MsUUFBTCxDQUFjO0FBQ1pKLGNBQU1DLEtBRE07QUFFWkksWUFBSSxLQUFLQyxJQUFMO0FBRlEsT0FBZDtBQUlEO0FBQ0Y7O0FBRURBLFNBQU87QUFDTCxXQUNFLEtBQUtSLFdBQUwsQ0FBaUJFLElBQWpCLEdBQ0EsR0FEQSxHQUVBLEtBQUtPLEVBQUwsRUFGQSxHQUdBLEtBQUtBLEVBQUwsRUFIQSxHQUlBLEdBSkEsR0FLQSxLQUFLQSxFQUFMLEVBTEEsR0FNQSxHQU5BLEdBT0EsS0FBS0EsRUFBTCxFQVBBLEdBUUEsR0FSQSxHQVNBLEtBQUtBLEVBQUwsRUFUQSxHQVVBLEdBVkEsR0FXQSxLQUFLQSxFQUFMLEVBWEEsR0FZQSxLQUFLQSxFQUFMLEVBWkEsR0FhQSxLQUFLQSxFQUFMLEVBYkEsR0FjQSxHQWRBLEdBZUFDLEtBQUtDLEdBQUwsR0FBV0MsUUFBWCxDQUFvQixFQUFwQixDQWhCRjtBQWtCRDs7QUFFREgsT0FBSztBQUNILFdBQU9JLEtBQUtDLEtBQUwsQ0FBVyxDQUFDLElBQUlELEtBQUtFLE1BQUwsRUFBTCxJQUFzQixPQUFqQyxFQUNKSCxRQURJLENBQ0ssRUFETCxFQUVKSSxTQUZJLENBRU0sQ0FGTixDQUFQO0FBR0Q7O0FBRURDLFVBQVFkLEtBQVIsRUFBZTtBQUNiLFNBQUtELElBQUwsQ0FBVWdCLEdBQVYsQ0FBY2YsS0FBZDtBQUNEO0FBMUNpRTs7a0JBQS9DTCxxQjtBQTZDckJMLFdBQVcwQixlQUFYLENBQTJCLENBQUNyQixxQkFBRCxDQUEzQiIsImZpbGUiOiJPcGVyYXRpb25DZW50ZXJPYmplY3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzcGluYWxDb3JlID0gcmVxdWlyZShcInNwaW5hbC1jb3JlLWNvbm5lY3RvcmpzXCIpO1xuY29uc3QgZ2xvYmFsVHlwZSA9IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB3aW5kb3c7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZXJhdGlvbkNlbnRlck9iamVjdCBleHRlbmRzIGdsb2JhbFR5cGUuTW9kZWwge1xuICBjb25zdHJ1Y3RvcihfaWQsIG5hbWUgPSBcIk9wZXJhdGlvbkNlbnRlck9iamVjdFwiKSB7XG4gICAgc3VwZXIoKTtcbiAgICBsZXQgX25hbWUgPSB0eXBlb2YgX2lkID09PSBcInVuZGVmaW5kZWRcIiA/IFwiXCIgOiB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgK1xuICAgICAgX2lkXG4gICAgaWYgKEZpbGVTeXN0ZW0uX3NpZ19zZXJ2ZXIpIHtcbiAgICAgIHRoaXMuYWRkX2F0dHIoe1xuICAgICAgICBuYW1lOiBfbmFtZSxcbiAgICAgICAgaWQ6IHRoaXMuZ3VpZCgpLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZ3VpZCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lICtcbiAgICAgIFwiLVwiICtcbiAgICAgIHRoaXMuczQoKSArXG4gICAgICB0aGlzLnM0KCkgK1xuICAgICAgXCItXCIgK1xuICAgICAgdGhpcy5zNCgpICtcbiAgICAgIFwiLVwiICtcbiAgICAgIHRoaXMuczQoKSArXG4gICAgICBcIi1cIiArXG4gICAgICB0aGlzLnM0KCkgK1xuICAgICAgXCItXCIgK1xuICAgICAgdGhpcy5zNCgpICtcbiAgICAgIHRoaXMuczQoKSArXG4gICAgICB0aGlzLnM0KCkgK1xuICAgICAgXCItXCIgK1xuICAgICAgRGF0ZS5ub3coKS50b1N0cmluZygxNilcbiAgICApO1xuICB9XG5cbiAgczQoKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApXG4gICAgICAudG9TdHJpbmcoMTYpXG4gICAgICAuc3Vic3RyaW5nKDEpO1xuICB9XG5cbiAgc2V0TmFtZShfbmFtZSkge1xuICAgIHRoaXMubmFtZS5zZXQoX25hbWUpXG4gIH1cbn1cblxuc3BpbmFsQ29yZS5yZWdpc3Rlcl9tb2RlbHMoW09wZXJhdGlvbkNlbnRlck9iamVjdF0pIl19